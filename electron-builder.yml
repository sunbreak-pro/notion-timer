appId: com.sonicflow.app
productName: Sonic Flow
directories:
  output: release
  buildResources: resources

afterSign: scripts/notarize.js

files:
  - electron/dist/**/*
  - "!electron/dist/**/*.js.map"
  - frontend/dist/**/*
  - package.json

asarUnpack:
  - "node_modules/better-sqlite3/**/*"

mac:
  target:
    - dmg
    - zip
  category: public.app-category.productivity
  darkModeSupport: true
  hardenedRuntime: true
  gatekeeperAssess: false
  entitlements: build/entitlements.mac.plist
  entitlementsInherit: build/entitlements.mac.plist

dmg:
  contents:
    - x: 130
      y: 220
    - x: 410
      y: 220
      type: link
      path: /Applications
  window:
    width: 540
    height: 380
  title: "Sonic Flow ${version}"

win:
  target:
    - nsis
  signingHashAlgorithms:
    - sha256

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true

linux:
  target:
    - AppImage
  category: Office

publish:
  provider: github
